import{S as ts,i as as,s as os,k as l,q as i,a as u,l as n,m as r,r as p,h as t,c,n as h,b as s,F as a,C as eo}from"./index-920be987.js";function ss(Fo){let d,Nt,j,Tt,xt,ce,Ot,Ct,Le,w,Ht,M,Lt,Bt,Be,Q,Rt,Re,b,g,de,jt,je,E,Mt,F,Ft,Ut,Me,U,Uo=`<code class="language-sh">kubectl create namespace pihole
kubectl <span class="token parameter variable">-n</span> pihole create secret generic pihole-admin <span class="token punctuation"></span>
		--from-literal<span class="token operator">=</span><span class="token string">'password=[THE SUPER SECRET PASSWORD]'</span></code>`,Fe,X,Wt,Ue,W,Wo=`<code class="language-yaml"><span class="token comment"># DNS servers that pi-hole will use</span>
<span class="token key atrule">DNS1</span><span class="token punctuation">:</span> 9.9.9.9
<span class="token key atrule">DNS2</span><span class="token punctuation">:</span> 1.1.1.1

<span class="token key atrule">persistentVolumeClaim</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">admin</span><span class="token punctuation">:</span>
  <span class="token comment"># use the secret we just created </span>
  <span class="token key atrule">existingSecret</span><span class="token punctuation">:</span> <span class="token string">"pihole-admin"</span>

<span class="token key atrule">serviceDns</span><span class="token punctuation">:</span>
  <span class="token comment"># combine the TCP and UDP services</span>
  <span class="token key atrule">mixedService</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># we won't need that</span>
<span class="token key atrule">serviceDhcp</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">podDnsConfig</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">policy</span><span class="token punctuation">:</span> <span class="token string">"None"</span>
  <span class="token key atrule">nameservers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> 127.0.0.1
  <span class="token punctuation">-</span> 9.9.9.9</code>`,We,Z,Yt,Ye,$,Gt,Ge,Y,Yo=`<code class="language-sh">helm repo <span class="token function">add</span> mojo2600 https://mojo2600.github.io/pihole-kubernetes/
helm repo update

<span class="token comment"># and now install</span>
helm <span class="token function">install</span> pihole mojo2600/pihole <span class="token parameter variable">-f</span> pihole.yaml <span class="token parameter variable">-n</span> pihole</code>`,qe,f,qt,fe,Vt,zt,me,Jt,Kt,Ve,G,Go=`<code class="language-sh"><span class="token comment"># put your node IP address here</span>
<span class="token function">dig</span> @192.168.NN.NN google.com</code>`,ze,_,Qt,ye,Xt,Zt,Je,ee,$t,Ke,q,qo='<code class="language-sh">helm uninstall pihole <span class="token parameter variable">-n</span> pihole</code>',Qe,I,P,ve,ea,Xe,D,ta,te,aa,oa,Ze,S,sa,ke,la,na,$e,V,Vo=`<code class="language-yaml"><span class="token key atrule">serviceDns</span><span class="token punctuation">:</span>
  <span class="token key atrule">mixedService</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># tell it which IP do you want pre-allocated for this service</span>
  <span class="token key atrule">loadBalancerIP</span><span class="token punctuation">:</span> 192.168.68.253
  <span class="token key atrule">type</span><span class="token punctuation">:</span> LoadBalancer</code>`,et,ae,ia,tt,A,N,we,ra,at,T,pa,be,ha,ua,ot,z,zo=`<code class="language-sh">kubectl apply <span class="token parameter variable">-f</span> - <span class="token operator">&lt;&lt;</span><span class="token string">EOF
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: pihole-web
  namespace: pihole
  annotations:
    nginx.ingress.kubernetes.io/whitelist-source-range: 127.0.0.1/8,192.168.0.0/16
spec:
  ingressClassName: public
  rules:
  - host: YOUR.LOCAL.DNS.NAME
    http:
      paths:
      - backend:
          service:
            name: pihole-web
            port:
              number: 80
        path: /
        pathType: Prefix
EOF</span></code>`,st,m,ca,ge,da,fa,Ee,ma,ya,lt,y,va,_e,ka,wa,Ie,ba,ga,nt,x,O,Pe,Ea,it,oe,_a,rt,C,De,Ia,Pa,J,Da,Se,Sa,Aa,pt,H,Na,Ae,Ta,xa,ht,L,Ne,Oa,Ca,Te,Ha,ut,se,La,ct,B,R,xe,Ba,dt,le,Ra,ft,v,ja,K,Ma,Fa,Oe,Ua,Wa,mt,k,Ya,Ce,Ga,qa,He,Va,za,yt,vt,kt,ne,Ja;return{c(){d=l("p"),Nt=i("I’ve been using "),j=l("a"),Tt=i("Steven Black"),xt=u(),ce=l("code"),Ot=i("/etc/hosts"),Ct=i(" lists on my laptops for years, and it’s been great. But, I always wished it was a thing on my other devices like smartphones, tablets, and that I didn’t have to rely on dodgy browser extensions in closed systems. I wish my wife didn’t have to deal with the crazy world of ads and trackers and malware either."),Le=u(),w=l("p"),Ht=i("And then I’ve discovered for myself "),M=l("a"),Lt=i("pi-hole"),Bt=i(" which is basically a lightweight DNS proxy that runs on a raspberry pi. One can plug it into their home network and block the bulk of the internet garbage for everyone on all devices at the same time. It’s quite brilliant actually."),Be=u(),Q=l("p"),Rt=i("The cool thing about the project is that one doesn’t actually have to run it on a raspberry pi device. Pihole can just as well deploy in any homelab environment, such as a docker image or a full on kubernetes deployment. It’s not entirely complicated, but it has a few pitfalls. So, here I just wanted to share how it works for me and how I run it in my kubes deployment."),Re=u(),b=l("h2"),g=l("a"),de=l("span"),jt=i("Helm chart"),je=u(),E=l("p"),Mt=i("Thankfully pi-hole has an official "),F=l("a"),Ft=i("helm chart"),Ut=i(" that simplifies the deployment dramatically. All we really have to do is to setup a namespace, an admin password secret, and create a configuration file for the helm chart. The first two could be done with the following commands"),Me=u(),U=l("pre"),Fe=u(),X=l("p"),Wt=i("And for the second one you’ll have to create a yaml file that you’ll feed to helm during the installation process. There can be a few variations, so I’ll start with the most simplest version here. Lets assume you’re running on a single node, there is no load balancer and you are accessing your services via  NodePorts. Here the config"),Ue=u(),W=l("pre"),We=u(),Z=l("p"),Yt=i("It’s mostly self explanatory. The last bit with podDns part you might or might not need depending on your setup. The problem here is that in some circumstances pi-hole will set itself up as the primary DNS during the deployment process. And in case things get borked with pi-hole DNS it’s better for the pod to rely on something that actually works."),Ye=u(),$=l("p"),Gt=i("Now to the helm part. It’s basically a two step operation: register the pi-hole helm chart and then use that to deploy everything."),Ge=u(),Y=l("pre"),qe=u(),f=l("p"),qt=i("Wait until the pihole pod is up and running. Check the "),fe=l("code"),Vt=i("pihole"),zt=i(" service too, it should connect to NodePort on port "),me=l("code"),Jt=i("53"),Kt=i(". If everything is okay, you should be able to run the following from outside of the node, like on your laptop for example:"),Ve=u(),G=l("pre"),ze=u(),_=l("p"),Qt=i("If everything works fine, this command should resolve the "),ye=l("code"),Xt=i("google.com"),Zt=i(" domain name for you using pi-hole. Congratulations your pi-hole is up and running."),Je=u(),ee=l("p"),$t=i("And if my congratulations are premature, use the following command to blow it all away and try again"),Ke=u(),q=l("pre"),Qe=u(),I=l("h2"),P=l("a"),ve=l("span"),ea=i("A load balancer option"),Xe=u(),D=l("p"),ta=i("If you’re running multiple nodes and using metallb as your load balancer, you don’t have to limit yourself to the host IP, and can dedicate an IP from your load balancer range. Read my "),te=l("a"),aa=i("recent article"),oa=i(" about metallb if you’re unsure how that works."),Ze=u(),S=l("p"),sa=i("In this case, you might want to modify your config file "),ke=l("code"),la=i("serviceDns"),na=i(" to the following"),$e=u(),V=l("pre"),et=u(),ae=l("p"),ia=i("You can also set a load balancer for the web-face service too here, and even collocate both services on the same IP address. If you need any of those options, I recommend consulting with the official chart docs. Or just edit your services yourself manually if you know your way around kubes."),tt=u(),A=l("h2"),N=l("a"),we=l("span"),ra=i("Web Interface"),at=u(),T=l("p"),pa=i("Pi-hole comes with a very neat web-server that you can use to further configure the thing. Depending on your setup, we could have set the web service along with everything else in the helm config. But, I personally run a separate "),be=l("code"),ha=i("ngnix"),ua=i(" ingress controller in my deployment, and I like managing my ingress through that. And to that end, I usually feed it a config that looks like this."),ot=u(),z=l("pre"),st=u(),m=l("p"),ca=i("To access the interface, you’ll have to add that local domain name with your ingress controller service IP address into you laptop’s "),ge=l("code"),da=i("/etc/hosts"),fa=i("; or "),Ee=l("code"),ma=i("/private/etc/hosts"),ya=i(" if you’re on macos."),lt=u(),y=l("p"),va=i("Then go to "),_e=l("code"),ka=i("http://your.domain.name/admin"),wa=i(" address (don’t forget the "),Ie=l("code"),ba=i("/admin"),ga=i(" part at the end), type the super secret password you created at the very beginning of the process, and that should lead you to the pi-hole dashboard."),nt=u(),x=l("h2"),O=l("a"),Pe=l("span"),Ea=i("How to use it"),it=u(),oe=l("p"),_a=i("Well this is the easy part actually, and here you have a few options."),rt=u(),C=l("ol"),De=l("li"),Ia=i("Set it as your DNS server locally on your devices in their network settings"),Pa=u(),J=l("li"),Da=i("Set it globally as a default DNS server in your wifi router and that will automatically work for "),Se=l("em"),Sa=i("all"),Aa=i(" devices on the network"),pt=u(),H=l("p"),Na=i("There are couple of things you might want to keep in mind though. Because pi-hole will run it’s DNS service on a "),Ae=l("em"),Ta=i("local network"),xa=i(" IP address, two things might happen."),ht=u(),L=l("ol"),Ne=l("li"),Oa=i("Your router might want to ask you to put the address in the DHCP server settings rather than main DNS settings in the router. That’s normal. Do that, it works"),Ca=u(),Te=l("li"),Ha=i("MacOS will warn you that you might be being hacked. That’s normal too, it’s a good thing they warn you about those things. I mean, you never know."),ut=u(),se=l("p"),La=i("You also might want to watch out for things getting broken after you’ve plugged it in. For example google ads in the search results won’t be clickable anymore. That annoyed some of my family members and I added it to the whitelist in the admin panel. After all, google has to eat too, right?"),ct=u(),B=l("h2"),R=l("a"),xe=l("span"),Ba=i("Extra lists"),dt=u(),le=l("p"),Ra=i("And the last bit I wanted to touch on here is this. By default pi-hole comes with basically the baseline steven-black list preinstalled. It’s actually a pretty great list that will block probably close to 90% of garbage. But you can add more lists to fortify your system even further."),ft=u(),v=l("p"),ja=i("The "),K=l("a"),Ma=i("https://firebog.net/"),Fa=i(" service is a great place to start. All the green links are generally considered safe to use. Just go to your admin panel,  click on "),Oe=l("code"),Ua=i("Adlists"),Wa=i(" and plug them all there."),mt=u(),k=l("p"),Ya=i("Once you’re done, you’ll need to do one more thing. Go to "),Ce=l("code"),Ga=i("Tools > Update Gravity"),qa=i(" and press the "),He=l("code"),Va=i("Update"),za=i(" button. It will download and recompile all the block lists into a binary search thing that pi-hole can use for fast DNS name search."),yt=u(),vt=l("hr"),kt=u(),ne=l("p"),Ja=i("And that’s pretty much it. Feel free to ping me on mastodon if you need help."),this.h()},l(e){d=n(e,"P",{});var o=r(d);Nt=p(o,"I’ve been using "),j=n(o,"A",{href:!0,rel:!0});var to=r(j);Tt=p(to,"Steven Black"),to.forEach(t),xt=c(o),ce=n(o,"CODE",{});var ao=r(ce);Ot=p(ao,"/etc/hosts"),ao.forEach(t),Ct=p(o," lists on my laptops for years, and it’s been great. But, I always wished it was a thing on my other devices like smartphones, tablets, and that I didn’t have to rely on dodgy browser extensions in closed systems. I wish my wife didn’t have to deal with the crazy world of ads and trackers and malware either."),o.forEach(t),Le=c(e),w=n(e,"P",{});var wt=r(w);Ht=p(wt,"And then I’ve discovered for myself "),M=n(wt,"A",{href:!0,rel:!0});var oo=r(M);Lt=p(oo,"pi-hole"),oo.forEach(t),Bt=p(wt," which is basically a lightweight DNS proxy that runs on a raspberry pi. One can plug it into their home network and block the bulk of the internet garbage for everyone on all devices at the same time. It’s quite brilliant actually."),wt.forEach(t),Be=c(e),Q=n(e,"P",{});var so=r(Q);Rt=p(so,"The cool thing about the project is that one doesn’t actually have to run it on a raspberry pi device. Pihole can just as well deploy in any homelab environment, such as a docker image or a full on kubernetes deployment. It’s not entirely complicated, but it has a few pitfalls. So, here I just wanted to share how it works for me and how I run it in my kubes deployment."),so.forEach(t),Re=c(e),b=n(e,"H2",{id:!0});var Ka=r(b);g=n(Ka,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var lo=r(g);de=n(lo,"SPAN",{class:!0}),r(de).forEach(t),lo.forEach(t),jt=p(Ka,"Helm chart"),Ka.forEach(t),je=c(e),E=n(e,"P",{});var bt=r(E);Mt=p(bt,"Thankfully pi-hole has an official "),F=n(bt,"A",{href:!0,rel:!0});var no=r(F);Ft=p(no,"helm chart"),no.forEach(t),Ut=p(bt," that simplifies the deployment dramatically. All we really have to do is to setup a namespace, an admin password secret, and create a configuration file for the helm chart. The first two could be done with the following commands"),bt.forEach(t),Me=c(e),U=n(e,"PRE",{class:!0});var Jo=r(U);Jo.forEach(t),Fe=c(e),X=n(e,"P",{});var io=r(X);Wt=p(io,"And for the second one you’ll have to create a yaml file that you’ll feed to helm during the installation process. There can be a few variations, so I’ll start with the most simplest version here. Lets assume you’re running on a single node, there is no load balancer and you are accessing your services via  NodePorts. Here the config"),io.forEach(t),Ue=c(e),W=n(e,"PRE",{class:!0});var Ko=r(W);Ko.forEach(t),We=c(e),Z=n(e,"P",{});var ro=r(Z);Yt=p(ro,"It’s mostly self explanatory. The last bit with podDns part you might or might not need depending on your setup. The problem here is that in some circumstances pi-hole will set itself up as the primary DNS during the deployment process. And in case things get borked with pi-hole DNS it’s better for the pod to rely on something that actually works."),ro.forEach(t),Ye=c(e),$=n(e,"P",{});var po=r($);Gt=p(po,"Now to the helm part. It’s basically a two step operation: register the pi-hole helm chart and then use that to deploy everything."),po.forEach(t),Ge=c(e),Y=n(e,"PRE",{class:!0});var Qo=r(Y);Qo.forEach(t),qe=c(e),f=n(e,"P",{});var ie=r(f);qt=p(ie,"Wait until the pihole pod is up and running. Check the "),fe=n(ie,"CODE",{});var ho=r(fe);Vt=p(ho,"pihole"),ho.forEach(t),zt=p(ie," service too, it should connect to NodePort on port "),me=n(ie,"CODE",{});var uo=r(me);Jt=p(uo,"53"),uo.forEach(t),Kt=p(ie,". If everything is okay, you should be able to run the following from outside of the node, like on your laptop for example:"),ie.forEach(t),Ve=c(e),G=n(e,"PRE",{class:!0});var Xo=r(G);Xo.forEach(t),ze=c(e),_=n(e,"P",{});var gt=r(_);Qt=p(gt,"If everything works fine, this command should resolve the "),ye=n(gt,"CODE",{});var co=r(ye);Xt=p(co,"google.com"),co.forEach(t),Zt=p(gt," domain name for you using pi-hole. Congratulations your pi-hole is up and running."),gt.forEach(t),Je=c(e),ee=n(e,"P",{});var fo=r(ee);$t=p(fo,"And if my congratulations are premature, use the following command to blow it all away and try again"),fo.forEach(t),Ke=c(e),q=n(e,"PRE",{class:!0});var Zo=r(q);Zo.forEach(t),Qe=c(e),I=n(e,"H2",{id:!0});var Qa=r(I);P=n(Qa,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var mo=r(P);ve=n(mo,"SPAN",{class:!0}),r(ve).forEach(t),mo.forEach(t),ea=p(Qa,"A load balancer option"),Qa.forEach(t),Xe=c(e),D=n(e,"P",{});var Et=r(D);ta=p(Et,"If you’re running multiple nodes and using metallb as your load balancer, you don’t have to limit yourself to the host IP, and can dedicate an IP from your load balancer range. Read my "),te=n(Et,"A",{href:!0});var yo=r(te);aa=p(yo,"recent article"),yo.forEach(t),oa=p(Et," about metallb if you’re unsure how that works."),Et.forEach(t),Ze=c(e),S=n(e,"P",{});var _t=r(S);sa=p(_t,"In this case, you might want to modify your config file "),ke=n(_t,"CODE",{});var vo=r(ke);la=p(vo,"serviceDns"),vo.forEach(t),na=p(_t," to the following"),_t.forEach(t),$e=c(e),V=n(e,"PRE",{class:!0});var $o=r(V);$o.forEach(t),et=c(e),ae=n(e,"P",{});var ko=r(ae);ia=p(ko,"You can also set a load balancer for the web-face service too here, and even collocate both services on the same IP address. If you need any of those options, I recommend consulting with the official chart docs. Or just edit your services yourself manually if you know your way around kubes."),ko.forEach(t),tt=c(e),A=n(e,"H2",{id:!0});var Xa=r(A);N=n(Xa,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var wo=r(N);we=n(wo,"SPAN",{class:!0}),r(we).forEach(t),wo.forEach(t),ra=p(Xa,"Web Interface"),Xa.forEach(t),at=c(e),T=n(e,"P",{});var It=r(T);pa=p(It,"Pi-hole comes with a very neat web-server that you can use to further configure the thing. Depending on your setup, we could have set the web service along with everything else in the helm config. But, I personally run a separate "),be=n(It,"CODE",{});var bo=r(be);ha=p(bo,"ngnix"),bo.forEach(t),ua=p(It," ingress controller in my deployment, and I like managing my ingress through that. And to that end, I usually feed it a config that looks like this."),It.forEach(t),ot=c(e),z=n(e,"PRE",{class:!0});var es=r(z);es.forEach(t),st=c(e),m=n(e,"P",{});var re=r(m);ca=p(re,"To access the interface, you’ll have to add that local domain name with your ingress controller service IP address into you laptop’s "),ge=n(re,"CODE",{});var go=r(ge);da=p(go,"/etc/hosts"),go.forEach(t),fa=p(re,"; or "),Ee=n(re,"CODE",{});var Eo=r(Ee);ma=p(Eo,"/private/etc/hosts"),Eo.forEach(t),ya=p(re," if you’re on macos."),re.forEach(t),lt=c(e),y=n(e,"P",{});var pe=r(y);va=p(pe,"Then go to "),_e=n(pe,"CODE",{});var _o=r(_e);ka=p(_o,"http://your.domain.name/admin"),_o.forEach(t),wa=p(pe," address (don’t forget the "),Ie=n(pe,"CODE",{});var Io=r(Ie);ba=p(Io,"/admin"),Io.forEach(t),ga=p(pe," part at the end), type the super secret password you created at the very beginning of the process, and that should lead you to the pi-hole dashboard."),pe.forEach(t),nt=c(e),x=n(e,"H2",{id:!0});var Za=r(x);O=n(Za,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Po=r(O);Pe=n(Po,"SPAN",{class:!0}),r(Pe).forEach(t),Po.forEach(t),Ea=p(Za,"How to use it"),Za.forEach(t),it=c(e),oe=n(e,"P",{});var Do=r(oe);_a=p(Do,"Well this is the easy part actually, and here you have a few options."),Do.forEach(t),rt=c(e),C=n(e,"OL",{});var Pt=r(C);De=n(Pt,"LI",{});var So=r(De);Ia=p(So,"Set it as your DNS server locally on your devices in their network settings"),So.forEach(t),Pa=c(Pt),J=n(Pt,"LI",{});var Dt=r(J);Da=p(Dt,"Set it globally as a default DNS server in your wifi router and that will automatically work for "),Se=n(Dt,"EM",{});var Ao=r(Se);Sa=p(Ao,"all"),Ao.forEach(t),Aa=p(Dt," devices on the network"),Dt.forEach(t),Pt.forEach(t),pt=c(e),H=n(e,"P",{});var St=r(H);Na=p(St,"There are couple of things you might want to keep in mind though. Because pi-hole will run it’s DNS service on a "),Ae=n(St,"EM",{});var No=r(Ae);Ta=p(No,"local network"),No.forEach(t),xa=p(St," IP address, two things might happen."),St.forEach(t),ht=c(e),L=n(e,"OL",{});var At=r(L);Ne=n(At,"LI",{});var To=r(Ne);Oa=p(To,"Your router might want to ask you to put the address in the DHCP server settings rather than main DNS settings in the router. That’s normal. Do that, it works"),To.forEach(t),Ca=c(At),Te=n(At,"LI",{});var xo=r(Te);Ha=p(xo,"MacOS will warn you that you might be being hacked. That’s normal too, it’s a good thing they warn you about those things. I mean, you never know."),xo.forEach(t),At.forEach(t),ut=c(e),se=n(e,"P",{});var Oo=r(se);La=p(Oo,"You also might want to watch out for things getting broken after you’ve plugged it in. For example google ads in the search results won’t be clickable anymore. That annoyed some of my family members and I added it to the whitelist in the admin panel. After all, google has to eat too, right?"),Oo.forEach(t),ct=c(e),B=n(e,"H2",{id:!0});var $a=r(B);R=n($a,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Co=r(R);xe=n(Co,"SPAN",{class:!0}),r(xe).forEach(t),Co.forEach(t),Ba=p($a,"Extra lists"),$a.forEach(t),dt=c(e),le=n(e,"P",{});var Ho=r(le);Ra=p(Ho,"And the last bit I wanted to touch on here is this. By default pi-hole comes with basically the baseline steven-black list preinstalled. It’s actually a pretty great list that will block probably close to 90% of garbage. But you can add more lists to fortify your system even further."),Ho.forEach(t),ft=c(e),v=n(e,"P",{});var he=r(v);ja=p(he,"The "),K=n(he,"A",{href:!0,rel:!0});var Lo=r(K);Ma=p(Lo,"https://firebog.net/"),Lo.forEach(t),Fa=p(he," service is a great place to start. All the green links are generally considered safe to use. Just go to your admin panel,  click on "),Oe=n(he,"CODE",{});var Bo=r(Oe);Ua=p(Bo,"Adlists"),Bo.forEach(t),Wa=p(he," and plug them all there."),he.forEach(t),mt=c(e),k=n(e,"P",{});var ue=r(k);Ya=p(ue,"Once you’re done, you’ll need to do one more thing. Go to "),Ce=n(ue,"CODE",{});var Ro=r(Ce);Ga=p(Ro,"Tools > Update Gravity"),Ro.forEach(t),qa=p(ue," and press the "),He=n(ue,"CODE",{});var jo=r(He);Va=p(jo,"Update"),jo.forEach(t),za=p(ue," button. It will download and recompile all the block lists into a binary search thing that pi-hole can use for fast DNS name search."),ue.forEach(t),yt=c(e),vt=n(e,"HR",{}),kt=c(e),ne=n(e,"P",{});var Mo=r(ne);Ja=p(Mo,"And that’s pretty much it. Feel free to ping me on mastodon if you need help."),Mo.forEach(t),this.h()},h(){h(j,"href","https://github.com/StevenBlack/hosts"),h(j,"rel","nofollow"),h(M,"href","https://pi-hole.net/"),h(M,"rel","nofollow"),h(de,"class","icon icon-link"),h(g,"aria-hidden","true"),h(g,"tabindex","-1"),h(g,"href","#helm-chart"),h(b,"id","helm-chart"),h(F,"href","https://artifacthub.io/packages/helm/mojo2600/pihole"),h(F,"rel","nofollow"),h(U,"class","language-sh"),h(W,"class","language-yaml"),h(Y,"class","language-sh"),h(G,"class","language-sh"),h(q,"class","language-sh"),h(ve,"class","icon icon-link"),h(P,"aria-hidden","true"),h(P,"tabindex","-1"),h(P,"href","#a-load-balancer-option"),h(I,"id","a-load-balancer-option"),h(te,"href","/posts/c087r"),h(V,"class","language-yaml"),h(we,"class","icon icon-link"),h(N,"aria-hidden","true"),h(N,"tabindex","-1"),h(N,"href","#web-interface"),h(A,"id","web-interface"),h(z,"class","language-sh"),h(Pe,"class","icon icon-link"),h(O,"aria-hidden","true"),h(O,"tabindex","-1"),h(O,"href","#how-to-use-it"),h(x,"id","how-to-use-it"),h(xe,"class","icon icon-link"),h(R,"aria-hidden","true"),h(R,"tabindex","-1"),h(R,"href","#extra-lists"),h(B,"id","extra-lists"),h(K,"href","https://firebog.net/"),h(K,"rel","nofollow")},m(e,o){s(e,d,o),a(d,Nt),a(d,j),a(j,Tt),a(d,xt),a(d,ce),a(ce,Ot),a(d,Ct),s(e,Le,o),s(e,w,o),a(w,Ht),a(w,M),a(M,Lt),a(w,Bt),s(e,Be,o),s(e,Q,o),a(Q,Rt),s(e,Re,o),s(e,b,o),a(b,g),a(g,de),a(b,jt),s(e,je,o),s(e,E,o),a(E,Mt),a(E,F),a(F,Ft),a(E,Ut),s(e,Me,o),s(e,U,o),U.innerHTML=Uo,s(e,Fe,o),s(e,X,o),a(X,Wt),s(e,Ue,o),s(e,W,o),W.innerHTML=Wo,s(e,We,o),s(e,Z,o),a(Z,Yt),s(e,Ye,o),s(e,$,o),a($,Gt),s(e,Ge,o),s(e,Y,o),Y.innerHTML=Yo,s(e,qe,o),s(e,f,o),a(f,qt),a(f,fe),a(fe,Vt),a(f,zt),a(f,me),a(me,Jt),a(f,Kt),s(e,Ve,o),s(e,G,o),G.innerHTML=Go,s(e,ze,o),s(e,_,o),a(_,Qt),a(_,ye),a(ye,Xt),a(_,Zt),s(e,Je,o),s(e,ee,o),a(ee,$t),s(e,Ke,o),s(e,q,o),q.innerHTML=qo,s(e,Qe,o),s(e,I,o),a(I,P),a(P,ve),a(I,ea),s(e,Xe,o),s(e,D,o),a(D,ta),a(D,te),a(te,aa),a(D,oa),s(e,Ze,o),s(e,S,o),a(S,sa),a(S,ke),a(ke,la),a(S,na),s(e,$e,o),s(e,V,o),V.innerHTML=Vo,s(e,et,o),s(e,ae,o),a(ae,ia),s(e,tt,o),s(e,A,o),a(A,N),a(N,we),a(A,ra),s(e,at,o),s(e,T,o),a(T,pa),a(T,be),a(be,ha),a(T,ua),s(e,ot,o),s(e,z,o),z.innerHTML=zo,s(e,st,o),s(e,m,o),a(m,ca),a(m,ge),a(ge,da),a(m,fa),a(m,Ee),a(Ee,ma),a(m,ya),s(e,lt,o),s(e,y,o),a(y,va),a(y,_e),a(_e,ka),a(y,wa),a(y,Ie),a(Ie,ba),a(y,ga),s(e,nt,o),s(e,x,o),a(x,O),a(O,Pe),a(x,Ea),s(e,it,o),s(e,oe,o),a(oe,_a),s(e,rt,o),s(e,C,o),a(C,De),a(De,Ia),a(C,Pa),a(C,J),a(J,Da),a(J,Se),a(Se,Sa),a(J,Aa),s(e,pt,o),s(e,H,o),a(H,Na),a(H,Ae),a(Ae,Ta),a(H,xa),s(e,ht,o),s(e,L,o),a(L,Ne),a(Ne,Oa),a(L,Ca),a(L,Te),a(Te,Ha),s(e,ut,o),s(e,se,o),a(se,La),s(e,ct,o),s(e,B,o),a(B,R),a(R,xe),a(B,Ba),s(e,dt,o),s(e,le,o),a(le,Ra),s(e,ft,o),s(e,v,o),a(v,ja),a(v,K),a(K,Ma),a(v,Fa),a(v,Oe),a(Oe,Ua),a(v,Wa),s(e,mt,o),s(e,k,o),a(k,Ya),a(k,Ce),a(Ce,Ga),a(k,qa),a(k,He),a(He,Va),a(k,za),s(e,yt,o),s(e,vt,o),s(e,kt,o),s(e,ne,o),a(ne,Ja)},p:eo,i:eo,o:eo,d(e){e&&t(d),e&&t(Le),e&&t(w),e&&t(Be),e&&t(Q),e&&t(Re),e&&t(b),e&&t(je),e&&t(E),e&&t(Me),e&&t(U),e&&t(Fe),e&&t(X),e&&t(Ue),e&&t(W),e&&t(We),e&&t(Z),e&&t(Ye),e&&t($),e&&t(Ge),e&&t(Y),e&&t(qe),e&&t(f),e&&t(Ve),e&&t(G),e&&t(ze),e&&t(_),e&&t(Je),e&&t(ee),e&&t(Ke),e&&t(q),e&&t(Qe),e&&t(I),e&&t(Xe),e&&t(D),e&&t(Ze),e&&t(S),e&&t($e),e&&t(V),e&&t(et),e&&t(ae),e&&t(tt),e&&t(A),e&&t(at),e&&t(T),e&&t(ot),e&&t(z),e&&t(st),e&&t(m),e&&t(lt),e&&t(y),e&&t(nt),e&&t(x),e&&t(it),e&&t(oe),e&&t(rt),e&&t(C),e&&t(pt),e&&t(H),e&&t(ht),e&&t(L),e&&t(ut),e&&t(se),e&&t(ct),e&&t(B),e&&t(dt),e&&t(le),e&&t(ft),e&&t(v),e&&t(mt),e&&t(k),e&&t(yt),e&&t(vt),e&&t(kt),e&&t(ne)}}}const ns={slug:"iNGVk",date:"26 November 2024",title:"Run pi-hole in kubernetes cluster",description:"A recipe how to install and pi-hole inside of a kubernetes deployment",tags:["kubernetes","homelab","linux","engineering"]};class is extends ts{constructor(d){super(),as(this,d,null,ss,os,{})}}export{is as default,ns as metadata};
