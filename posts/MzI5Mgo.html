<!DOCTYPE html>
<html lang="en">

<head>
	<title>Kai Evans in writing</title>
	<meta charset="utf-8" />
	<link rel="icon" href="../favicon.png" />
	<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<script>
		const storedTheme =
			typeof localStorage !== "undefined"
				? localStorage.getItem("theme")
				: null;

		const prefersDark = window.matchMedia(
			"(prefers-color-scheme: dark)"
		).matches;

		if (storedTheme === "dark" || (!storedTheme && prefersDark)) {
			document.documentElement.classList.add("dark");
		}
	</script>
	<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout-8e254f9c.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_page-5c045b07.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/start-61083fd7.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index-73b08c3b.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons-d0c4fa27.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper-41c905a7.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control-e7f5239e.js">
		<link rel="modulepreload" href="../_app/immutable/components/pages/_layout.svelte-7381aa3d.js">
		<link rel="modulepreload" href="../_app/immutable/modules/pages/_layout.ts-9cbb603b.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout-da46b06b.js">
		<link rel="modulepreload" href="../_app/immutable/components/pages/posts/_...slug_/_page.svelte-5bb5450a.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Date-9f8280aa.js">
		<link rel="modulepreload" href="../_app/immutable/modules/pages/posts/_...slug_/_page.ts-76ddc7d4.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index-4d8f42c1.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/posts-e3695b1b.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_page-598d74c2.js"><title>How this site is made ⁍ Kai Evans</title><!-- HEAD_svelte-m6phnn_START --><meta name="title" content="How this site is made ⁍ Kai Evans"><meta name="description" content="a bit of technical details about how this web site was created"><meta name="author" content="Kai Evans"><meta property="og:type" content="article"><meta property="og:title" content="How this site is made ⁍ Kai Evans"><meta property="og:description" content="a bit of technical details about how this web site was created"><meta property="og:url" content="http://kaievans.co/posts/MzI5Mgo"><meta property="og:site_name" content="Kai Evans in writing"><meta property="og:image" content="/_app/immutable/assets/face-0b963283.jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="article:author" content="Kai Evans"><meta property="article:published_time" content="2023-01-31T13:00:00.000Z"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="http://kaievans.co/posts/MzI5Mgo"><meta property="twitter:title" content="How this site is made ⁍ Kai Evans"><meta property="twitter:description" content="a bit of technical details about how this web site was created"><meta property="twitter:image" content="/_app/immutable/assets/face-0b963283.jpeg"><!-- HEAD_svelte-m6phnn_END -->
</head>

<body data-sveltekit-preload-data="hover">
	<div style="display: contents;">


<header class="group relative mb-12 flex items-center sm:pl-[4.5rem]"><div class="flex sm:flex-col"><a href="/" class="inline-flex items-center sm:relative sm:inline-block" aria-current="page"><img src="/_app/immutable/assets/face-6c9b604a.webp" class="w-14 h-14 rounded mr-3 sm:absolute sm:left-[-4.5rem] sm:mr-0" alt="Kai Evans face">
            <span class="text-xl font-bold sm:text-2xl">Kai Evans</span></a>

        <nav class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-[color:var(--theme-menu-bg)] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:mt-1 sm:-ml-4 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dotted sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none" aria-label="Main menu"><a href="/" class="py-4 px-4 sm:py-0 sm:hover:underline" aria-current="page" rel="prefetch">Home</a>
            <a href="/about" class="py-4 px-4 sm:py-0 sm:hover:underline" aria-current="false" rel="prefetch">About</a>
            <a href="/posts" class="py-4 px-4 sm:py-0 sm:hover:underline" aria-current="false" rel="prefetch">Log</a></nav></div>
    <button type="button" class="group relative ml-auto h-9 w-9 rounded-md bg-zinc-200 p-2 ring-zinc-400 transition-all hover:ring-2 dark:bg-zinc-700" aria-label="Toggle Dark Mode"><svg id="sun-svg" class="absolute top-1/2 left-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all group-aria-pressed:scale-100 group-aria-pressed:opacity-100" aria-hidden="true" focusable="false" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg>
    <svg id="moon-svg" class="absolute top-1/2 left-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all group-aria-[pressed=false]:scale-100 group-aria-[pressed=false]:opacity-100" aria-hidden="true" focusable="false" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"></circle><path d="M7.63262 3.06689C8.98567 3.35733 9.99999 4.56025 9.99999 6.00007C9.99999 7.65693 8.65685 9.00007 6.99999 9.00007C5.4512 9.00007 4.17653 7.82641 4.01685 6.31997" stroke="currentColor" stroke-width="1.5"></path><path d="M22 13.0505C21.3647 12.4022 20.4793 12 19.5 12C17.567 12 16 13.567 16 15.5C16 17.2632 17.3039 18.7219 19 18.9646" stroke="currentColor" stroke-width="1.5"></path><path d="M14.5 8.51L14.51 8.49889" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10 17C11.1046 17 12 16.1046 12 15C12 13.8954 11.1046 13 10 13C8.89543 13 8 13.8954 8 15C8 16.1046 8.89543 17 10 17Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></header>

<main><article>
    
    
    
    

    <h1 class="title">How this site is made</h1>
<time datetime="2023-01-31T13:00:00.000Z" class="">1 February 2023</time>

<div class="inline before:content-['|']"><svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" class="inline-block h-6 w-6 ml-1" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"></path><path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"></path><path d="M6 9h-.01"></path></svg>
        <a class="cactus-link inline-block before:content-['#']" aria-label="View more blogs with the tag javascript" href="/tags/javascript">javascript</a>, <a class="cactus-link inline-block before:content-['#']" aria-label="View more blogs with the tag front-end" href="/tags/front-end">front-end</a>, <a class="cactus-link inline-block before:content-['#']" aria-label="View more blogs with the tag technology" href="/tags/technology">technology</a></div>

    <div class="mt-8 prose prose-sm prose-cactus prose-headings:font-semibold prose-headings:before:absolute prose-headings:before:-ml-4 prose-headings:before:text-accent prose-headings:before:content-['#'] prose-th:before:content-none"><p>So, I have been working on this app for a few weeks on and off now, and it’s somewhat ready for it’s maiden flight. So, I have figured what would be a better initial post than to explain how this thing works and what it’s made of?</p>
<p>You can find the source code in it’s entirety in <a href="https://github.com/kaievns/the-log" rel="nofollow">this</a> github repo.</p>
<h2 id="acknowledgements"><a aria-hidden="true" tabindex="-1" href="#acknowledgements"><span class="icon icon-link"></span></a>Acknowledgements</h2>
<p>Before I go any further, I’d like to acknowledge couple of people, who’s work I have heavily “borrowed” to make this website.</p>
<ol><li>Chris Williams for creating the <a href="https://github.com/chrismwilliams/astro-theme-cactus" rel="nofollow">Astro Cactus theme</a></li>
<li>Josh Collinsworth for writing <a href="https://joshcollinsworth.com/blog/build-static-sveltekit-markdown-blog" rel="nofollow">an in depth blog post</a> about building SvelteKit apps</li></ol>
<p>Both are top notch pieces of work that I could not recommend highly enough as detailed guides. Here, I’ll just focus on the technical choices and reasoning behind them.</p>
<h2 id="technology-behind"><a aria-hidden="true" tabindex="-1" href="#technology-behind"><span class="icon icon-link"></span></a>Technology behind</h2>
<p>Thanks to the modern frameworks, this thing is actually rather simple under the hood. It’s mainly just two pieces of tech</p>
<ol><li><a href="https://kit.svelte.dev" rel="nofollow">SvelteKit</a> - the Svelte’s official app development framework</li>
<li><a href="https://tailwindcss.com" rel="nofollow">Tailwind</a> - the infamous utility CSS framework</li></ol>
<p>The reason I like both of those is kinda the same. I like practical tools that just work and I don’t like dependencies.</p>
<p>I’ll actually dig a bit deeper here. Yes, I’m well aware of the unix manifesto: “build great small things and combine them into bigger things”. Although on paper that sounds like a smart idea, it actually fails the basic math test <code>A + B != A and B</code></p>
<p>Hence the reason I like both SvelteKit and Tailwind. They solve a <em>set</em> of problems, not individual small things. SvelteKit has everything one needs to build 99% of a very decent web app. And tailwind has everything one needs to apply decent styling
to a web app and not regret their life choices. They’re both practical and to the point.</p>
<h2 id="lets-talk-about-svelte"><a aria-hidden="true" tabindex="-1" href="#lets-talk-about-svelte"><span class="icon icon-link"></span></a>Lets talk about Svelte</h2>
<p>I’m not going to spend time debating Svelte vs. the rest of the world. Lets just say that ever since I tried Svelte I have never looked at other frameworks; and I have actively worked with the most of them throughout my career.</p>
<p>SvelteKit is very inline with the o/g Svelte and meaningfully extends on it. The net result is that you have a very sensible, standards based web applications development setup that covers probably 95% of use cases out of the box. Which is frankly very refreshing to see those days.</p>
<p>To create this web-site, which is basically a blogging platform, the only things I really had to install were a markdown processor and tailwind. And I probably didn’t need the last one, I just like it. Everything else, routing, data fetching, and a very sensible container/components segregation setup were provided out of the box.</p>
<h2 id="what-about-tailwind"><a aria-hidden="true" tabindex="-1" href="#what-about-tailwind"><span class="icon icon-link"></span></a>What about Tailwind?</h2>
<p>I hope by now you started to sense the common theme here. I don’t really have the patience for messy tooling. Which sounds more negative than it is, so lets try to flip it a bit. I care deeply about software engineering tools, and I especially like the reliable and ergonomic type. I believe that a craftsman is only as good as his tools.</p>
<p>I’ve been writing CSS for 20+ years non stop. I actually like CSS, I think it’s a greatly misunderstood language. And, Tailwind is by far the best, most well thought through CSS experience I’ve seen in my entire career. Moreover, tailwind-prose has the most well thought through typography setup.</p>
<p>Just add the two together, sprinkle some of this and that, and you have a pretty and responsive web-site. It fits my CSS habits so well, I basically use it as a CSS shorthand.</p>
<p>My only complaint about tailwind is that writing 10 words in the <code>class</code> attribute is a bit less than stellar experience from the ergonomics perspective. But, I don’t have any better ideas, so I should shut up.</p>
<h2 id="whats-with-markdown-anyway"><a aria-hidden="true" tabindex="-1" href="#whats-with-markdown-anyway"><span class="icon icon-link"></span></a>What’s with Markdown anyway?</h2>
<p>A bit of a rhetorical question in this day and age, I suppose. Pragmatisch, squarisch, goot, as they say. What else would you want from a text data format? I guess, I have couple of personal notes to add to that.</p>
<p>Firstly, I really like the idea of separating the data from presentation. Markdown does that brilliantly, and unlike say SQL it is perfectly consumable in the raw form by both humans and the machines. And it’s highly transplantable. I really value the option to take my writing some place else in a few years if I feel like it.</p>
<p>Secondly, well, I like writing. Well, okay, that’s a lie, I hate writing, especially writing truthfully. Like most creative processes it is a lot of pain. But, I cannot stop writing, it’s even more pain for me to not regularly dump the contents of my brain in files. And whenever pain meets distractions nothing of value if being produced. I need a simple utilitarian environment to sit with my pain, and write. A text editor and markdown seem to do the trick consistently for me.</p>
<h2 id="the-architecture"><a aria-hidden="true" tabindex="-1" href="#the-architecture"><span class="icon icon-link"></span></a>The “Architecture”</h2>
<p>With all the whys out of the way lets look a little into the guts of this app. On the top level, there are basically two
folders, the <code>posts</code> folder where all the data lives, and the <code>src</code> folder where the Svelte app lives.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">├─ posts/
  ├─ post-1.md
  └─ post-2.md
└─ src/
  └─ components/
    ├─ Header.svelte
    ├─ Footer.svelte
    └─ ....
  └─ routes/
    └─ posts/
      └─ [...slug]/
        └─ +page.svelte
      └─ +page.svelte
    └─ rss.xml/
      └─ +server.ts
    ├─ +layout.svelte
    └─ +page.svelte </code><!-- HTML_TAG_END --></pre>
<p>Svelte is pretty amazing at convention over configuration. Which is very neat, because it very cleanly splits between the <code>routes/</code> which is a way to group you page containers and data loading, and the <code>components/</code> which has all the generic components.</p>
<p>I’m not going to go at length here about all the details, but it provides a great and very unobtrusive app “architecture” and it’s more than enough to make a blogging app work. I have even made the RSS feed as part of the same routing. Because SvelteKit basically let you mix the server side and the front-end in one flow, and mix and match them as you’re pleased. So I just have the <code>rss.xml</code> folder that has a little “server” in there that compiles the RSS feed of the recent posts.</p>
<h2 id="how-is-it-deployed"><a aria-hidden="true" tabindex="-1" href="#how-is-it-deployed"><span class="icon icon-link"></span></a>How is it deployed?</h2>
<p>That’s actually the easiest part. SvelteKit has built in adapters for delivering your app. One of the basic ones that comes with the framework, basically crawls your entire app and renders it into highly optimised static website build.</p>
<p>Once that’s plugged in, all you have to do is to push it to github pages and do some DNSing. Thankfully npm has a handy package for that as well:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">npm install -D gh-pages
npm run build &amp;&amp; gh-pages -d build</code><!-- HTML_TAG_END --></pre>
<p>Why github pages instead of the likes of versel or netlify?</p>
<p>Well, I just want it it to keep running in case I’m dead. Just kidding. You probably should figure by now that I like simple and reliable tools. Since this whole thing is already on github, there is nothing to manage, just press a button and it’s there.</p></div></article></main>

<footer class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pt-20 pb-4 text-center align-top text-gray-500 sm:flex-row sm:justify-between sm:text-xs"><div class="mr-0 sm:mr-4">Copyright © 2023 Kai Evans
    </div>
    <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500"><a href="/" class="px-4 py-2 sm:py-0 sm:px-2 sm:hover:text-textColor sm:hover:underline no-underline">Home</a>
        <a href="/about" class="px-4 py-2 sm:py-0 sm:px-2 sm:hover:text-textColor sm:hover:underline no-underline">About</a>
        <a href="/posts" class="px-4 py-2 sm:py-0 sm:px-2 sm:hover:text-textColor sm:hover:underline no-underline">Log</a></nav></footer>


		<script type="module" data-sveltekit-hydrate="y8yvfs">
			import { start } from "../_app/immutable/start-61083fd7.js";

			start({
				env: {},
				paths: {"assets":"","base":""},
				target: document.querySelector('[data-sveltekit-hydrate="y8yvfs"]').parentNode,
				version: "1675815723205",
				hydrate: {
					node_ids: [0, 5],
					data: [null,null],
					form: null,
					error: null
				}
			});
		</script>
	</div>
</body>

</html>